<app-patient-nav></app-patient-nav>

<div style="width:100%; margin-bottom: 5%;">

    <div class="container-fluid">
                <div id="c" class="col-md-6 offset-md-3"> 
                    <h3 style="text-align: center;">Account Information</h3>
                    
                    <form [formGroup]="userForm">
                        <div class="row">
                        <div class="form-group col-md-6">
                            <label>First Name*</label>
                            <input id="firstName" type="text" formControlName="firstName" class="form-control" value="{{userObj?.first_name}} "

                            [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }" />
                            <div *ngIf="submitted && f.firstName.errors" class="invalid-feedback">
                                <div *ngIf="f.firstName.errors.minlength">First Name is required</div>
                            </div>
                        </div>
    
                        <div class="form-group col-md-6">
                            <label>Last Name*</label>
                            <input  id="lastName" type="text" formControlName="lastName" class="form-control" value="{{userObj?.last_name}} "
                            [ngClass]="{ 'is-invalid': submitted && f.lastName.errors  }" />
                            <div *ngIf="submitted && f.lastName.errors " class="invalid-feedback">
                                <div *ngIf="f.lastName.errors.minlength">Last Name is required</div>
                            </div>
                        </div>
    
                        
    
                       
                   
    
                        <div class="form-group col-md-6">
                            <label>Mobile*</label>
                            <input  id="mobile" type="text" (keypress)="numberOnly($event)" formControlName="mobile" class="form-control" value="{{userObj?.mobile_phone_number}} " 
                            [ngClass]="{ 'is-invalid': submitted && f.mobile.errors }" />
                            <div *ngIf="submitted && f.mobile.errors " class="invalid-feedback">
                                <div *ngIf="f.mobile.errors.required">Mobile is required</div>
                                <div *ngIf="f.mobile.errors.minlength">Mobile must be at least 10 characters</div>
                                <div *ngIf="f.mobile.errors.maxlength">Mobile must be 10 characters</div>
                            </div>
                        </div>
                
                 
                        <div class="form-group col-md-6">
                            <label>Phone</label>
                            <input  id="phone" type="text" (keypress)="numberOnly($event)" formControlName="phone" class="form-control"value="{{userObj?.phone_number}} " 
                            [ngClass]="{ 'is-invalid': submitted && f.phone.errors }" />
                            <div *ngIf="submitted && f.phone.errors " class="invalid-feedback">
                                <div *ngIf="f.phone.errors.minlength">Phone must be at least 10 characters</div>
                            </div>
                        </div>
                        
                        
                 
                   
                        <div class="form-group col-md-6">    
                            <label>Gender*</label>    
                            <select  id="gender" class="form-control"formControlName="gender" 
                            [ngClass]="{ 'is-invalid': submitted && f.gender.errors }">
                            <div *ngIf="submitted && f.gender.errors" class="invalid-feedback">
                            </div> 
              
                            <option [value]="gender" *ngFor="let gender of genders">
                                {{gender}}</option>  
                               <option selected>{{userObj?.gender}}</option>
                            </select>    
                        </div> 

                        <div class="form-group col-md-6">
                            <label>Address*</label>
                            <input  id="address" type="text" formControlName="address" class="form-control" value="{{userObj?.address}} "
                            [ngClass]="{ 'is-invalid': submitted && f.address.errors  }" />
                            <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
                                <div *ngIf="f.address.errors.minlength">Address is required</div>
                            </div>
                        </div>
                      
                        
    
                        <div class="form-group col-md-6">
                            <label>Password*</label>
                            <input  id="password" type="password" formControlName="password" class="form-control"value="{{userObj?.password}} " 
                            [ngClass]="{ 'is-invalid': submitted && f.password.errors  }" />
                            <div *ngIf="submitted && f.password.errors " class="invalid-feedback">
                                <div *ngIf="f.password.errors.required">Password is required</div>
                                <div *ngIf="f.password.errors.minlength">Password must be at least 6 characters</div>
                            </div>
                        </div>
    
                        <div class="form-group col-md-6">
                            <label>Confirm Password*</label>
                            <input type="password" formControlName="confirmPassword" class="form-control" value="{{userObj?.password}} "
                            [ngClass]="{ 'is-invalid': submitted && f.confirmPassword.errors  }" />
                            <div *ngIf="submitted && f.confirmPassword.errors" class="invalid-feedback">
                                <div *ngIf="f.confirmPassword.errors.minlength">Confirm Password is required</div>
                                <div *ngIf="f.confirmPassword.errors.mustMatch">Passwords must match</div>
                            </div>
                        </div>
                       
                        <div class="form-group col-md-6 " style="margin: 10px; justify-content: center;">
                        
                            <button  type="submit" (click)="editPatient()" class="btn btn-primary" >Confirm changes</button>
                    </div>

                    <div class="form-group col-md-5 " style="margin: 10px; justify-content: end; ">
                             
                            <button  type="submit" (click)="deletePatient()" class="btn btn-danger" >Deactivate</button>
                    </div> 

                    </div>
                    </form>
                </div>
            </div>
        </div>
    
